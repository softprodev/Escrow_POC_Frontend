(this["webpackJsonpconnect-metamask-react-dapp"]=this["webpackJsonpconnect-metamask-react-dapp"]||[]).push([[0],{381:function(e,t){},403:function(e,t){},405:function(e,t){},483:function(e,t){},485:function(e,t){},519:function(e,t){},524:function(e,t){},526:function(e,t){},533:function(e,t){},546:function(e,t){},564:function(e,t){},575:function(e,t){},578:function(e,t){},586:function(e,t){},588:function(e,t){},644:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(81),r=c.n(a),o=c(12),l=c(13),i=c(687),d=c(686),j=c(684),b=c(671),p=Object(b.a)({fonts:{heading:"Inter",body:"Inter"}}),x=c(672),O=c(1);function h(e){var t=e.children;return Object(O.jsx)("section",{children:Object(O.jsx)(x.a,{width:"80%",margin:"auto",bg:"white.800",display:"block",children:t})})}var m,u=c(681),g=c(675),f=c(676),v=c(685),y=c(678),N=c(677),w=c(679),A=c(673),S=c(317),T=c.n(S),C=c(83),E=C.a.div(m||(m=Object(l.a)(["\n  height: 1rem;\n  width: 1rem;\n  border-radius: 1.125rem;\n  background-color: black;\n"])));function k(){var e=Object(n.useRef)(),t=Object(A.a)().account;return Object(n.useEffect)((function(){t&&e.current&&(e.current.innerHTML="",e.current.appendChild(T()(16,parseInt(t.slice(2,10),16))))}),[t]),Object(O.jsx)(E,{ref:e})}function I(e){var t=e.isOpen,c=e.onClose,n=e.txStatus,s=Object(A.a)(),a=s.account,r=s.deactivate;return Object(O.jsxs)(u.a,{isOpen:t,onClose:c,isCentered:!0,size:"md",children:[Object(O.jsx)(u.g,{}),Object(O.jsxs)(u.d,{background:"gray.900",border:"1px",borderStyle:"solid",borderColor:"gray.700",borderRadius:"3xl",children:[Object(O.jsx)(u.f,{color:"white",px:4,fontSize:"lg",fontWeight:"medium",children:"Account"}),Object(O.jsx)(u.c,{color:"white",fontSize:"sm",_hover:{color:"whiteAlpha.700"}}),Object(O.jsx)(u.b,{pt:0,px:4,children:Object(O.jsxs)(g.a,{borderRadius:"3xl",border:"1px",borderStyle:"solid",borderColor:"gray.600",px:5,pt:4,pb:2,mb:3,children:[Object(O.jsxs)(x.a,{justifyContent:"space-between",alignItems:"center",mb:3,children:[Object(O.jsx)(f.a,{color:"gray.400",fontSize:"sm",children:"Connected with MetaMask"}),Object(O.jsx)(v.a,{variant:"outline",size:"sm",borderColor:"blue.800",borderRadius:"3xl",color:"blue.500",fontSize:"13px",fontWeight:"normal",px:2,height:"26px",_hover:{background:"none",borderColor:"blue.300",textDecoration:"underline"},onClick:function(){r(),c()},children:"Change"})]}),Object(O.jsxs)(x.a,{alignItems:"center",mt:2,mb:4,lineHeight:1,children:[Object(O.jsx)(k,{}),Object(O.jsx)(f.a,{color:"white",fontSize:"xl",fontWeight:"semibold",ml:"2",lineHeight:"1.1",children:a&&"".concat(a.slice(0,6),"...").concat(a.slice(a.length-4,a.length))})]}),Object(O.jsxs)(x.a,{alignContent:"center",m:3,children:[Object(O.jsxs)(v.a,{variant:"link",color:"gray.400",fontWeight:"normal",fontSize:"sm",_hover:{textDecoration:"none",color:"whiteAlpha.800"},children:[Object(O.jsx)(N.a,{mr:1}),"Copy Address"]}),Object(O.jsxs)(y.a,{fontSize:"sm",display:"flex",alignItems:"center",href:"https://ropsten.etherscan.io/address/".concat(a),isExternal:!0,color:"gray.400",ml:6,_hover:{color:"whiteAlpha.800",textDecoration:"underline"},children:[Object(O.jsx)(w.a,{mr:1}),"View on Explorer"]})]})]})}),Object(O.jsx)(u.e,{justifyContent:"end",background:"gray.700",borderBottomLeftRadius:"3xl",borderBottomRightRadius:"3xl",p:6,children:Object(O.jsx)(f.a,{color:"white",textAlign:"left",fontWeight:"medium",fontSize:"md",overflow:"auto",children:n})})]})]})}c(369);var P=c(101),D=c(3),R=c.n(D),F=c(35),H=c(323),_=c.n(H),z=c(127),B=c(326),M=c(38),Q={loading:!1,account:null,smartContract:null,activeProducers:null,activeProviders:null,contractOwnerAddress:null,activeAssetTypes:null,web3:null,errorMsg:"",isconnected:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECTION_REQUEST":return Object(M.a)(Object(M.a)({},Q),{},{loading:!0,isconnected:!1});case"CONNECTION_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{loading:!1,account:t.payload.account,smartContract:t.payload.smartContract,activeProducers:t.payload.activeProducers,activeProviders:t.payload.activeProviders,activeAssetTypes:t.payload.activeAssetTypes,contractOwnerAddress:t.payload.contractOwnerAddress,web3:t.payload.web3,isconnected:!0});case"CONNECTION_FAILED":return Object(M.a)(Object(M.a)({},Q),{},{loading:!1,errorMsg:t.payload,isconnected:!1});case"UPDATE_ACCOUNT":return Object(M.a)(Object(M.a)({},e),{},{account:t.payload.account,isconnected:!0});default:return e}},Y={loading:!1,totalSupply:0,error:!1,errorMsg:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_DATA_REQUEST":return Object(M.a)(Object(M.a)({},e),{},{loading:!0,error:!1,errorMsg:""});case"CHECK_DATA_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{loading:!1,totalSupply:t.payload.totalSupply,error:!1,errorMsg:""});case"CHECK_DATA_FAILED":return Object(M.a)(Object(M.a)({},Y),{},{loading:!1,error:!0,errorMsg:t.payload});default:return e}},W=Object(z.b)({blockchain:U,data:L}),q=[B.a],K=Object(z.c)(z.a.apply(void 0,q)),V=Object(z.d)(W,K),J=function(e){return{type:"CHECK_DATA_FAILED",payload:e}};var G,X,Z,$,ee,te,ce,ne,se,ae,re,oe,le,ie,de,je,be,pe,xe,Oe,he,me,ue,ge,fe,ve,ye,Ne,we,Ae,Se,Te,Ce,Ee,ke,Ie,Pe,De,Re,Fe,He,_e,ze,Be,Me,Qe,Ue,Ye,Le,We,qe,Ke,Ve,Je,Ge,Xe,Ze,$e,et,tt,ct,nt,st,at=function(){return console.log("fetchData1"),function(){var e=Object(F.a)(R.a.mark((function e(t){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CHECK_DATA_REQUEST"}),e.prev=1,console.log("fetchData2",V.getState().blockchain.smartContract.methods),e.next=5,V.getState().blockchain.smartContract.methods.getProducerInfoArray().call();case 5:c=e.sent,console.log("fetchData3",c),t({type:"CHECK_DATA_SUCCESS",payload:{ActiveProducerArray:c}}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t(J("Could not load data from contract."));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},rt=function(e){return{type:"CONNECTION_FAILED",payload:e}},ot=function(){return function(){var e=Object(F.a)(R.a.mark((function e(t){var c,n,s,a,r,o,l,i,d,j,b,p,x,O,h,m,u,g,f;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("connect start"),t({type:"CONNECTION_REQUEST"}),e.next=4,fetch("/config/abi.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:return c=e.sent,e.next=7,c.json();case 7:return n=e.sent,e.next=10,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 10:return s=e.sent,console.log("connect start",s),e.next=14,s.json();case 14:if(a=e.sent,r=window,o=r.ethereum,l=o&&o.isMetaMask,console.log("connect start metamask",l),!l){e.next=69;break}return i=new _.a(o),console.log("connect start web3",i),i.setProvider(o),e.prev=22,e.next=25,o.request({method:"eth_requestAccounts"});case 25:return d=e.sent,console.log("connect start accounts",d),e.next=29,o.request({method:"net_version"});case 29:if(j=e.sent,console.log("Network ID",j),console.log("Network ID config",a.NETWORK.ID),j.toString()!==a.NETWORK.ID.toString()){e.next=61;break}return console.log("Network ID matched"),b=new i.eth.Contract(n,a.CONTRACT_ADDRESS),console.log("connect start SmartContractObj",b),e.next=38,b.methods.getProducerInfoArray().call();case 38:return p=e.sent,e.next=41,b.methods.getProviderInfoArray().call();case 41:return x=e.sent,e.next=44,b.methods.getAssetsTypeArray().call();case 44:return O=e.sent,e.next=47,b.methods.owner().call();case 47:for(h=e.sent,m=[],u=0;u<p.length;u++)m.push(p[u]);for(g=[],u=0;u<x.length;u++)g.push(x[u]);for(f=[],u=0;u<O.length;u++)f.push(O[u]);console.log("active asset types : ",O),t({type:"CONNECTION_SUCCESS",payload:{account:d[0],smartContract:b,activeProducers:m,activeProviders:g,activeAssetTypes:f,contractOwnerAddress:h,web3:i}}),console.log("connect start account, ",d[0]),o.on("accountsChanged",(function(e){console.log("connect start updatedaccounts, ",e),console.log("connect start updatedaccounts, ",e[0]),t(lt(e[0]))})),o.on("chainChanged",(function(){window.location.reload()})),e.next=62;break;case 61:t(rt("Change network to ".concat(a.NETWORK.NAME,".")));case 62:e.next=67;break;case 64:e.prev=64,e.t0=e.catch(22),t(rt("Something went wrong."));case 67:e.next=70;break;case 69:t(rt("Install Metamask."));case 70:case"end":return e.stop()}}),e,null,[[22,64]])})));return function(t){return e.apply(this,arguments)}}()},lt=function(e){return function(){var t=Object(F.a)(R.a.mark((function t(c){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Update account"),c({type:"UPDATE_ACCOUNT",payload:{account:e}}),c(at());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},it=c(60),dt=Object(it.a)(),jt=c(15),bt=c(683),pt=c(335),xt=function(e){var t=e.handleOpenModal,c=e.walletconnection,n=Object(A.a)(),s=n.activateBrowserWallet,a=n.account,r=Object(bt.a)(a);return a?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",className:"btn btn-primary mb-1",onClick:t,children:a&&"".concat(a.slice(0,6),"...").concat(a.slice(a.length-4,a.length))}),Object(O.jsxs)("p",{className:"mb-0 fs-6 fw-bold lh-1 text-muted",children:["Balance: ",r&&parseFloat(Object(pt.a)(r)).toFixed(3)," ETH"]})]}):Object(O.jsx)("button",{type:"button",onClick:function(){s(),c()},className:"btn btn-primary mb-1",children:"Connect Wallet"})},Ot=jt.a.div(G||(G=Object(l.a)(["\n\tmargin-bottom: 50px;\n\tpadding-top: 0px;\n    display: block;\n\tpadding: 0 50px;\n"]))),ht=jt.a.section(X||(X=Object(l.a)(["\n    padding-top: 10px;\n"]))),mt=jt.a.button(Z||(Z=Object(l.a)(["\n\tfont-size: 20px;\n\theight : 60px;\n\twidth : 200px;\n"]))),ut=jt.a.div($||($=Object(l.a)(["\n// top: 50%;\npadding: 10px;\n"]))),gt=jt.a.div(ee||(ee=Object(l.a)(["\n// top: 50%;\npadding: 10px;\n"]))),ft=(jt.a.h1(te||(te=Object(l.a)(["\n    font-size: 60px;\n"]))),jt.a.h4(ce||(ce=Object(l.a)(["\n    font-size : 22px;\n    padding-bottom: 30px;\n"])))),vt=jt.a.div(ne||(ne=Object(l.a)(["\n    max-width: none;\n"]))),yt=jt.a.div(se||(se=Object(l.a)(["\n    max-width: none;\n"]))),Nt=jt.a.div(ae||(ae=Object(l.a)(["\n    padding: 10px 0;\n"]))),wt=jt.a.div(re||(re=Object(l.a)(["\n    text-align: center;\n    display: block;\n    margin-left: 10px;\n    font-size: 20px;\n    padding: 10px 10px;\n"]))),At=jt.a.h1(oe||(oe=Object(l.a)(["\n    padding-bottom : 5px;\n    font-size : 20px;\n"]))),St=jt.a.h1(le||(le=Object(l.a)(["\n    font-size : 18px;\n    padding-bottom: 30px;\n"]))),Tt=jt.a.td(ie||(ie=Object(l.a)(["\n    text-align: center; \n    vertical-align: middle;\n"]))),Ct=jt.a.th(de||(de=Object(l.a)(["\n    text-align: center; \n    vertical-align: middle;\n"]))),Et=jt.a.img(je||(je=Object(l.a)(["\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tdisplay: block;\n"]))),kt=jt.a.div(be||(be=Object(l.a)(["\n    display: flex;\n    margin-bottom: 10px;\n"]))),It=jt.a.div(pe||(pe=Object(l.a)(["\n    display: flex;\n    margin-bottom: 10px;\n"]))),Pt=jt.a.div(xe||(xe=Object(l.a)(["\nmargin-left: auto; \nmargin-right: 0;\n"]))),Dt=jt.a.h1(Oe||(Oe=Object(l.a)(["\n    font-size: 65px;\n    margin-right: 10px;\n    margin-left: 10px;\n"]))),Rt=jt.a.div(he||(he=Object(l.a)(["\nborder-left: 1px solid black;\n"]))),Ft=jt.a.div(me||(me=Object(l.a)(["\n    display: block;\n    margin-left: 10px;\n    font-size: 27px;\n    padding: 10px 0;\n"]))),Ht=jt.a.h1(ue||(ue=Object(l.a)(["\n    padding-top: 20px;\n    padding-bottom: 20px;\n"]))),_t=function(e){e.escrowBlockchain;var t=e.account,c=(e.actionEnabled,e.walletconnection),s=e.activeProducerArray,a=e.activeProviderArray,r=(e.activeAssetTypesArray,e.txStatus),l=(e.setTxStatus,Object(d.a)()),j=l.isOpen,b=l.onOpen,p=l.onClose,x=Object(n.useState)("0"),h=Object(o.a)(x,2),m=h[0],u=h[1],g=Object(n.useState)("0"),f=Object(o.a)(g,2),v=f[0],y=f[1],N=Object(n.useState)("0"),w=Object(o.a)(N,2),A=w[0],S=w[1],T=Object(n.useState)("0"),C=Object(o.a)(T,2),E=C[0],k=C[1],P=Object(i.d)();return Object(n.useEffect)((function(){if(s){var e=0,t=0,c=0,n=0;s.map((function(s){e+=parseInt(s.quantity),t+=parseInt(s.redeemedQuantity),c+=parseInt(s.remainingAmount)/1e18,n+=parseInt(s.redeemedAmount)/1e18})),u(String(e.toFixed(0))),y(String(t.toFixed(0))),S(String(c.toFixed(5))),k(String(n.toFixed(5)))}else u("0"),y("0"),S("0"),k("0")}),[a,t,s]),Object(O.jsxs)("section",{children:[Object(O.jsx)("div",{className:"section__header pt-3",children:Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col"}),Object(O.jsx)("div",{className:"col col-lg-2 d-flex justify-content-end",children:Object(O.jsx)("div",{className:"text-right",children:Object(O.jsx)(xt,{handleOpenModal:b,walletconnection:c})})})]})})}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)(Ot,{children:[Object(O.jsxs)(kt,{children:[Object(O.jsx)(Dt,{className:"mb-0",children:"03"}),Object(O.jsx)(Rt,{}),Object(O.jsxs)(Ft,{children:[Object(O.jsx)("h1",{className:"mb-0",children:"(re)view"}),Object(O.jsx)("h1",{className:"mb-0",children:"Analytics and oversight of complete platform"})]})]}),Object(O.jsxs)(It,{children:[Object(O.jsxs)(Ht,{className:"mb-0",children:["Reviewer Address : ",t]}),Object(O.jsxs)(Pt,{children:[Object(O.jsx)(gt,{className:"col text-right",children:Object(O.jsx)(mt,{type:"button",className:"btn btn-primary mb-1",onClick:function(e){e.preventDefault(),P.push("/producer")},children:"01 | (re)fund"})}),Object(O.jsx)(gt,{className:"col text-right",children:Object(O.jsx)(mt,{type:"button",className:"btn btn-primary mb-1",onClick:function(e){e.preventDefault(),P.push("/provider")},children:"02 | (re)deem"})})]})]})]})})})}),Object(O.jsx)(ht,{id:"section",className:"section",children:Object(O.jsxs)(Ot,{children:[Object(O.jsx)(yt,{className:"container pt-5 pb-5",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)(Nt,{className:"row",children:[Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(wt,{children:[Object(O.jsx)(At,{className:"mb-0",children:m}),Object(O.jsx)(St,{className:"mb-0",children:"units"}),Object(O.jsx)(St,{className:"mb-0",children:"Total Assets Funded"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(wt,{children:[Object(O.jsx)(At,{className:"mb-0",children:v}),Object(O.jsx)(St,{className:"mb-0",children:"units"}),Object(O.jsx)(St,{className:"mb-0",children:"Total Assets Redeemed"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(wt,{children:[Object(O.jsx)(At,{className:"mb-0",children:A}),Object(O.jsx)(St,{className:"mb-0",children:"ETH"}),Object(O.jsx)(St,{className:"mb-0",children:"Escrow Balance"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(wt,{children:[Object(O.jsx)(At,{className:"mb-0",children:E}),Object(O.jsx)(St,{className:"mb-0",children:"ETH"}),Object(O.jsx)(St,{className:"mb-0",children:"Escrow Disbursed"})]})})]})})})}),Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(ut,{className:"col text-center",children:Object(O.jsx)(Et,{src:"img/whitepaper.png",srcSet:"img/whitepaper.png",alt:""})})}),Object(O.jsx)("hr",{}),Object(O.jsx)(vt,{className:"container pt-5 pb-5",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)(ft,{className:"mb-4",children:"List of Funds(All)"}),Object(O.jsxs)("table",{className:"table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)(Ct,{scope:"col",children:"ID"}),Object(O.jsx)(Ct,{scope:"col",children:"Name"}),Object(O.jsx)(Ct,{scope:"col",children:"Address"}),Object(O.jsx)(Ct,{scope:"col",children:"Date"}),Object(O.jsx)(Ct,{scope:"col",children:"QTY"}),Object(O.jsx)(Ct,{scope:"col",children:"QTY Redeemed"}),Object(O.jsx)(Ct,{scope:"col",children:"QTY Remaining"}),Object(O.jsx)(Ct,{scope:"col",children:"Amount"}),Object(O.jsx)(Ct,{scope:"col",children:"Redeemed"}),Object(O.jsx)(Ct,{scope:"col",children:"Rebate Received"}),Object(O.jsx)(Ct,{scope:"col",children:"Remaininng"})]})}),Object(O.jsx)("tbody",{children:s?Object(O.jsx)(O.Fragment,{children:s.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)(Tt,{scope:"row",children:e.escrowID}),Object(O.jsx)(Tt,{scope:"row",children:e.escrowName}),Object(O.jsx)(Tt,{scope:"row",children:e.producer}),Object(O.jsx)(Tt,{scope:"row",children:new Date(1e3*parseInt(e.createdDate)).toLocaleDateString("en-US")}),Object(O.jsx)(Tt,{scope:"row",children:e.quantity}),Object(O.jsx)(Tt,{scope:"row",children:e.redeemedQuantity}),Object(O.jsx)(Tt,{scope:"row",children:parseInt(e.quantity)-parseInt(e.redeemedQuantity)}),Object(O.jsxs)(Tt,{scope:"row",children:[String(parseInt(e.amount)/1e18)," ETH"]}),Object(O.jsxs)(Tt,{scope:"row",children:[String(parseInt(e.redeemedAmount)/1e18)," ETH"]}),Object(O.jsxs)(Tt,{scope:"row",children:[String(parseInt(e.rebateReceivedAmount)/1e18)," ETH"]}),Object(O.jsxs)(Tt,{scope:"row",children:[String(parseInt(e.remainingAmount)/1e18)," ETH"]})]})}))}):Object(O.jsx)(O.Fragment,{})})]})]})})}),Object(O.jsx)(vt,{className:"container pt-5 pb-5",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)(ft,{className:"mb-4",children:"List of Redemptions(All)"}),Object(O.jsxs)("table",{className:"table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)(Ct,{scope:"col",children:"Date"}),Object(O.jsx)(Ct,{scope:"col",children:"ID"}),Object(O.jsx)(Ct,{scope:"col",children:"Producer"}),Object(O.jsx)(Ct,{scope:"col",children:"Provider"}),Object(O.jsx)(Ct,{scope:"col",children:"QTY"}),Object(O.jsx)(Ct,{scope:"col",children:"Redeemed Amount"})]})}),Object(O.jsx)("tbody",{children:a?Object(O.jsx)(O.Fragment,{children:a.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)(Tt,{scope:"row",children:new Date(1e3*parseInt(e.createdDate)).toLocaleDateString("en-US")}),Object(O.jsx)(Tt,{scope:"row",children:e.providerID}),Object(O.jsx)(Tt,{scope:"row",children:e.producer}),Object(O.jsx)(Tt,{scope:"row",children:e.provider}),Object(O.jsx)(Tt,{scope:"row",children:e.quantity}),Object(O.jsxs)(Tt,{scope:"row",children:[String(parseInt(e.redeemedAmount)/1e18)," ETH"]})]})}))}):Object(O.jsx)(O.Fragment,{})})]})]})})})]})}),Object(O.jsx)(I,{isOpen:j,onClose:p,txStatus:r})]})},zt=function(e){var t=e.escrowBlockchain,c=e.account,n=e.actionEnabled,s=e.walletconnection,a=e.activeProducerArray,r=e.activeProviderArray,o=e.activeAssetTypesArray,l=e.txStatus,i=e.setTxStatus;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("main",{className:"main main--start p-home",children:Object(O.jsx)(_t,{escrowBlockchain:t,account:c,actionEnabled:n,walletconnection:s,activeProducerArray:a,activeProviderArray:r,activeAssetTypesArray:o,txStatus:l,setTxStatus:i})})})},Bt=c(43),Mt=(jt.a.h3(ge||(ge=Object(l.a)(["\n    margin: 50px;\n"]))),jt.a.div(fe||(fe=Object(l.a)(["\n    display: block;\n"])))),Qt=jt.a.div(ve||(ve=Object(l.a)(["\n    display: flex;\n    margin-bottom: 10px;\n"]))),Ut=jt.a.h1(ye||(ye=Object(l.a)(["\n    font-size: 65px;\n    margin-right: 10px;\n    margin-left: 10px;\n"]))),Yt=jt.a.h1(Ne||(Ne=Object(l.a)(["\n    padding-top: 20px;\n    padding-bottom: 20px;\n"]))),Lt=jt.a.div(we||(we=Object(l.a)(["\nborder-left: 1px solid black;\n"]))),Wt=jt.a.div(Ae||(Ae=Object(l.a)(["\n    display: block;\n    margin-left: 10px;\n    font-size: 27px;\n    padding: 10px 0;\n"]))),qt=jt.a.div(Se||(Se=Object(l.a)(["\n    text-align: center;\n    display: block;\n    margin-left: 10px;\n    font-size: 20px;\n    padding: 10px 10px;\n"]))),Kt=jt.a.div(Te||(Te=Object(l.a)(["\n    padding: 20px 0;\n"]))),Vt=jt.a.h1(Ce||(Ce=Object(l.a)(["\n    padding-bottom : 5px;\n    font-size : 20px;\n"]))),Jt=jt.a.h1(Ee||(Ee=Object(l.a)(["\n    font-size : 18px;\n    padding-bottom: 30px;\n"]))),Gt=jt.a.h4(ke||(ke=Object(l.a)(["\n    font-size : 22px;\n    padding-bottom: 30px;\n"]))),Xt=jt.a.div(Ie||(Ie=Object(l.a)(["\n    background-color: #E7E9EB;\n    padding: 15px 15px;\n"]))),Zt=jt.a.div(Pe||(Pe=Object(l.a)(["\n    max-width: none;\n"]))),$t=jt.a.div(De||(De=Object(l.a)(["\n\tpadding-top : 30px;\n\tpadding-bottom: 30px;\n"]))),ec=jt.a.td(Re||(Re=Object(l.a)(["\n    text-align: center; \n    vertical-align: middle;\n"]))),tc=jt.a.th(Fe||(Fe=Object(l.a)(["\n    text-align: center; \n    vertical-align: middle;\n"]))),cc=(jt.a.div(He||(He=Object(l.a)(["\n\ttop: 50%;\n\tpadding: 10px;\n"]))),jt.a.img(_e||(_e=Object(l.a)(["\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tdisplay: block;\n"]))),function(e){var t=e.escrowBlockchain,c=e.account,s=e.actionEnabled,a=e.walletconnection,r=e.activeProducerArray,l=e.activeProviderArray,j=(e.activeAssetTypesArray,e.txStatus),b=e.setTxStatus,p=Object(d.a)(),x=p.isOpen,h=p.onOpen,m=p.onClose,u=Object(i.d)(),g=Object(n.useState)(""),f=Object(o.a)(g,2),v=(f[0],f[1],Object(n.useState)("")),y=Object(o.a)(v,2),N=(y[0],y[1],Object(n.useState)("")),w=Object(o.a)(N,2),A=w[0],S=w[1],T=Object(n.useState)(""),C=Object(o.a)(T,2),E=C[0],k=C[1],P=Object(n.useState)("0"),D=Object(o.a)(P,2),R=(D[0],D[1]),F=Object(n.useState)("0"),H=Object(o.a)(F,2),_=H[0],z=H[1],B=Object(n.useState)("0"),M=Object(o.a)(B,2),Q=(M[0],M[1]),U=Object(n.useState)("0"),Y=Object(o.a)(U,2),L=Y[0],W=Y[1],q=function(e){k("Collecting Assets...."),t.smartContract.methods.addProvider(e).send({from:c},(function(e,t){e?console.log("An error occured",e):(console.log("Hash of the transaction: "+t),k("Collecting Assets.... txHash:"+t),b("Collecting Assets - txHash: "+t))})).once("error",(function(e){console.log(e),console.log("Sorry, something went wrong please try again later."),alert("Sorry, something went wrong please try again later."),a(),k(""),b("Your transactions willl appear here...")})).then((function(e){console.log("Response : ",e),console.log("Transaction finished."),alert("Transaction finished."),a(),k(""),b("Your transactions willl appear here...")}))};return Object(n.useEffect)((function(){if(r){var e=0,t=0;l.map((function(n){n.provider==c&&(e+=parseInt(n.quantity),t+=parseInt(n.redeemedAmount)/1e18)})),R(String((0).toFixed(0))),z(String(e.toFixed(0))),Q(String((0).toFixed(5))),W(String(t.toFixed(5)))}else R("0"),z("0"),Q("0"),W("0")}),[l,c,r]),Object(O.jsxs)("section",{id:"section",className:"section",children:[Object(O.jsxs)("div",{className:"section__header pt-3",children:[Object(O.jsx)($t,{children:Object(O.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),u.push("/")},className:"btn btn-primary mb-1",children:"Home"})}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)(Mt,{children:[Object(O.jsxs)(Qt,{children:[Object(O.jsx)(Ut,{className:"mb-0",children:"02"}),Object(O.jsx)(Lt,{}),Object(O.jsxs)(Wt,{children:[Object(O.jsx)("h1",{className:"mb-0",children:"(re)deem"}),Object(O.jsx)("h1",{className:"mb-0",children:"Submitting collected assets for redemption"})]})]}),Object(O.jsxs)(Yt,{className:"mb-0",children:["Provider Address : ",c]})]})}),Object(O.jsx)("div",{className:"col col-lg-2 d-flex justify-content-end",children:Object(O.jsx)("div",{className:"text-right",children:Object(O.jsx)(xt,{handleOpenModal:h,walletconnection:a})})})]})})]}),Object(O.jsx)("hr",{}),Object(O.jsx)(Zt,{className:"container pt-5 pb-5",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-xs-12 col-md-8",children:Object(O.jsxs)(Kt,{className:"row",children:[Object(O.jsx)("div",{className:"col-xs-6 col-sm-5",children:Object(O.jsxs)(qt,{children:[Object(O.jsx)(Vt,{className:"mb-0",children:_}),Object(O.jsx)(Jt,{className:"mb-0"}),Object(O.jsx)(Jt,{className:"mb-0",children:"Assets Redeemed"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(qt,{children:[Object(O.jsxs)(Vt,{className:"mb-0",children:[L," ETH"]}),Object(O.jsx)(Jt,{className:"mb-0"}),Object(O.jsx)(Jt,{className:"mb-0",children:"Total Rebate Received"})]})})]})}),Object(O.jsxs)(Xt,{className:"col-xs-6 col-md-4",children:[Object(O.jsx)(Gt,{className:"mb-4",children:"Redeem Assets"}),Object(O.jsxs)("form",{action:"",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Collected Assets(limit : 10)"}),Object(O.jsx)("input",{type:"text",placeholder:"1,2,3,4,5,6.7.8.9.0",className:"form-control",onChange:function(e){S(e.target.value)},value:A})]})}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"text-center pb-2",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),c)if(s){var t,n=A.split(",").map((function(e){return parseInt(e,10)})),r=!0,o=Object(Bt.a)(n);try{for(o.s();!(t=o.n()).done;){var l=t.value;console.log("assets",l),isNaN(l)&&(r=!1)}}catch(i){o.e(i)}finally{o.f()}r?n?q(n):alert("Please input assets by comma separated."):alert("Please input valid numbers as assets")}else alert("Please connect wallet.");else a()},className:"btn btn-primary w-100",children:"Collect Assets"})}),Object(O.jsx)("p",{className:"text-center text-muted",children:E})]})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsx)(Zt,{className:"container pt-5 pb-5",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)(Gt,{className:"mb-4",children:"List of Redemptions"}),Object(O.jsxs)("table",{className:"table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)(tc,{scope:"col",children:"Date"}),Object(O.jsx)(tc,{scope:"col",children:"ID"}),Object(O.jsx)(tc,{scope:"col",children:"Producer"}),Object(O.jsx)(tc,{scope:"col",children:"QTY"}),Object(O.jsx)(tc,{scope:"col",children:"Redeemed Amount"})]})}),Object(O.jsx)("tbody",{children:l?Object(O.jsx)(O.Fragment,{children:l.filter((function(e){return e.provider==c})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)(ec,{scope:"row",children:new Date(1e3*parseInt(e.createdDate)).toLocaleDateString("en-US")}),Object(O.jsx)(ec,{scope:"row",children:e.providerID}),Object(O.jsx)(ec,{scope:"row",children:e.producer}),Object(O.jsx)(ec,{scope:"row",children:e.quantity}),Object(O.jsxs)(ec,{scope:"row",children:[String(parseInt(e.redeemedAmount)/1e18)," ETH"]})]})}))}):Object(O.jsx)(O.Fragment,{})})]})]})})}),Object(O.jsx)(I,{isOpen:x,onClose:m,txStatus:j})]})}),nc=function(e){var t=e.escrowBlockchain,c=e.account,n=e.actionEnabled,s=e.walletconnection,a=e.activeProducerArray,r=e.activeProviderArray,o=e.activeAssetTypesArray,l=e.txStatus,i=e.setTxStatus;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(cc,{escrowBlockchain:t,account:c,actionEnabled:n,walletconnection:s,activeProducerArray:a,activeProviderArray:r,activeAssetTypesArray:o,txStatus:l,setTxStatus:i})})},sc=(jt.a.h3(ze||(ze=Object(l.a)(["\n    margin: 50px;\n"]))),jt.a.div(Be||(Be=Object(l.a)(["\n    display: block;\n"])))),ac=jt.a.div(Me||(Me=Object(l.a)(["\n    display: flex;\n    margin-bottom: 10px;\n"]))),rc=jt.a.h1(Qe||(Qe=Object(l.a)(["\n    font-size: 65px;\n    margin-right: 10px;\n    margin-left: 10px;\n"]))),oc=jt.a.h1(Ue||(Ue=Object(l.a)(["\n    padding-top: 20px;\n    padding-bottom: 20px;\n"]))),lc=jt.a.div(Ye||(Ye=Object(l.a)(["\nborder-left: 1px solid black;\n"]))),ic=jt.a.div(Le||(Le=Object(l.a)(["\n    display: block;\n    margin-left: 10px;\n    font-size: 27px;\n    padding: 10px 0;\n"]))),dc=jt.a.div(We||(We=Object(l.a)(["\n    text-align: center;\n    display: block;\n    margin-left: 10px;\n    font-size: 20px;\n    padding: 10px 10px;\n"]))),jc=jt.a.div(qe||(qe=Object(l.a)(["\n    padding: 100px 0;\n"]))),bc=jt.a.h1(Ke||(Ke=Object(l.a)(["\n    padding-bottom : 5px;\n    font-size : 20px;\n"]))),pc=jt.a.h1(Ve||(Ve=Object(l.a)(["\n    font-size : 18px;\n    padding-bottom: 30px;\n"]))),xc=jt.a.h4(Je||(Je=Object(l.a)(["\n    font-size : 22px;\n    padding-bottom: 30px;\n"]))),Oc=jt.a.div(Ge||(Ge=Object(l.a)(["\n    background-color: #E7E9EB;\n    padding: 15px 15px;\n"]))),hc=jt.a.div(Xe||(Xe=Object(l.a)(["\n    max-width: none;\n"]))),mc=jt.a.div(Ze||(Ze=Object(l.a)(["\n\tpadding-top : 30px;\n\tpadding-bottom: 30px;\n"]))),uc=jt.a.td($e||($e=Object(l.a)(["\n    text-align: center; \n    vertical-align: middle;\n"]))),gc=jt.a.th(et||(et=Object(l.a)(["\n    text-align: center; \n    vertical-align: middle;\n"]))),fc=(jt.a.div(tt||(tt=Object(l.a)(["\n    top: 50%;\n    padding: 10px;\n"]))),jt.a.img(ct||(ct=Object(l.a)(["\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tdisplay: block;\n"]))),function(e){var t=e.contractOwnerAddress,c=e.escrowBlockchain,s=e.account,a=e.actionEnabled,r=e.walletconnection,l=e.activeProducerArray,j=e.activeAssetTypesArray,b=e.txStatus,p=e.setTxStatus,x=Object(d.a)(),h=x.isOpen,m=x.onOpen,u=x.onClose,g=Object(i.d)(),f=Object(n.useState)("0"),v=Object(o.a)(f,2),y=v[0],N=v[1],w=Object(n.useState)(""),A=Object(o.a)(w,2),S=A[0],T=A[1],C=Object(n.useState)(""),E=Object(o.a)(C,2),k=E[0],P=E[1],D=Object(n.useState)("0"),R=Object(o.a)(D,2),F=R[0],H=R[1],_=Object(n.useState)("0"),z=Object(o.a)(_,2),B=z[0],M=z[1],Q=Object(n.useState)(""),U=Object(o.a)(Q,2),Y=U[0],L=U[1],W=Object(n.useState)(""),q=Object(o.a)(W,2),K=q[0],V=q[1],J=Object(n.useState)(""),G=Object(o.a)(J,2),X=G[0],Z=G[1],$=Object(n.useState)("0"),ee=Object(o.a)($,2),te=ee[0],ce=ee[1],ne=Object(n.useState)("0"),se=Object(o.a)(ne,2),ae=se[0],re=se[1],oe=Object(n.useState)("0"),le=Object(o.a)(oe,2),ie=le[0],de=le[1],je=Object(n.useState)("0"),be=Object(o.a)(je,2),pe=be[0],xe=be[1],Oe=function(e,t){Z("Adding a new Assets Type...."),c.smartContract.methods.addNewAssetType(e,t).send({from:s},(function(e,t){e?console.log("An error occured",e):(console.log("Hash of the transaction: "+t),Z("Adding a new asset.... txHash:"+t),p("Adding a new asset - txHash: "+t))})).once("error",(function(e){console.log(e),console.log("Sorry, something went wrong please try again later."),alert("Sorry, something went wrong please try again later."),r(),Z(""),p("Your transactions willl appear here...")})).then((function(e){console.log("Response : ",e),console.log("Transaction finished."),alert("Transaction finished."),r(),Z(""),p("Your transactions willl appear here...")}))},he=function(e,t,n,a){Z("Posting Assets....");var o=c.smartContract.methods.addNewProducer(e,t,n).send({value:a,from:s},(function(e,t){e?console.log("An error occured",e):(console.log("Hash of the transaction: "+t),Z("Posting Assets.... txHash:"+t),p("Posting Assets - txHash: "+t))})).once("error",(function(e){console.log(e),console.log("Sorry, something went wrong please try again later."),alert("Sorry, something went wrong please try again later."),r(),Z(""),p("Your transactions willl appear here...")})).then((function(e){console.log("Response : ",e),console.log("Transaction Finished."),alert("Transaction Finished."),r(),Z(""),p("Your transactions willl appear here...")}));console.log("Result String : ",o)};return Object(n.useEffect)((function(){if(l){var e=0,t=0,c=0,n=0;l.map((function(a){a.producer==s&&(e+=parseInt(a.quantity),t+=parseInt(a.redeemedQuantity),c+=parseInt(a.remainingAmount)/1e18,n+=parseInt(a.rebateReceivedAmount)/1e18)})),ce(String(e.toFixed(0))),re(String(t.toFixed(0))),de(String(c.toFixed(5))),xe(String(n.toFixed(5)))}else ce("0"),re("0"),de("0"),xe("0")}),[l,j,s]),Object(O.jsxs)("section",{id:"section",className:"section",children:[Object(O.jsxs)("div",{className:"section__header pt-3",children:[Object(O.jsx)(mc,{children:Object(O.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),g.push("/")},className:"btn btn-primary mb-1",children:"Home"})}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)(sc,{children:[Object(O.jsxs)(ac,{children:[Object(O.jsx)(rc,{className:"mb-0",children:"01"}),Object(O.jsx)(lc,{}),Object(O.jsxs)(ic,{children:[Object(O.jsx)("h1",{className:"mb-0",children:"(re)fund"}),Object(O.jsx)("h1",{className:"mb-0",children:"Creating and funding a producer asset escrow"})]})]}),Object(O.jsxs)(oc,{className:"mb-0",children:["Producer Address : ",s]})]})}),Object(O.jsx)("div",{className:"col col-lg-2 d-flex justify-content-end",children:Object(O.jsx)("div",{className:"text-right",children:Object(O.jsx)(xt,{handleOpenModal:m,walletconnection:r})})})]})})]}),Object(O.jsx)("hr",{}),Object(O.jsx)(hc,{className:"container pt-5 pb-5",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-xs-12 col-md-8",children:Object(O.jsxs)(jc,{className:"row",children:[Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(dc,{children:[Object(O.jsx)(bc,{className:"mb-0",children:te}),Object(O.jsx)(pc,{className:"mb-0"}),Object(O.jsx)(pc,{className:"mb-0",children:"Assets Funded"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(dc,{children:[Object(O.jsx)(bc,{className:"mb-0",children:ae}),Object(O.jsx)(pc,{className:"mb-0"}),Object(O.jsx)(pc,{className:"mb-0",children:"Assets Redeemed"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(dc,{children:[Object(O.jsxs)(bc,{className:"mb-0",children:[ie," ETH"]}),Object(O.jsx)(pc,{className:"mb-0"}),Object(O.jsx)(pc,{className:"mb-0",children:"Escrow Outstanding"})]})}),Object(O.jsx)("div",{className:"col-xs-6 col-sm-3",children:Object(O.jsxs)(dc,{children:[Object(O.jsxs)(bc,{className:"mb-0",children:[pe," ETH"]}),Object(O.jsx)(pc,{className:"mb-0"}),Object(O.jsx)(pc,{className:"mb-0",children:"Total Rebate Received"})]})})]})}),Object(O.jsxs)(Oc,{className:"col-xs-6 col-md-4",children:[Object(O.jsx)(xc,{className:"mb-4",children:"Fund an Escrow"}),Object(O.jsxs)("form",{action:"",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Name:"}),Object(O.jsx)("input",{type:"text",placeholder:"Escrow Name",className:"form-control",onChange:function(e){P(e.target.value)},value:k,defaultValue:"Escrow"})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Asset Type"}),Object(O.jsxs)("select",{name:"",className:"form-control",onChange:function(e){j.map((function(t){if(t.assetTypeID==e.target.value){M(t.assetPrice),console.log("Asset price :",B),console.log("Asset price :",t.assetPrice);var c=K.split(",").map((function(e){return console.log("posted asset item ",e),parseInt(e,10)}));H(String(parseInt(t.assetPrice)*c.length/1e18))}})),L(e.target.value)},children:[Object(O.jsx)("option",{value:"0",selected:!0,disabled:!0,children:"Select Type"}),j?Object(O.jsx)(O.Fragment,{children:j.map((function(e){return Object(O.jsx)("option",{value:e.assetTypeID,children:e.assetTypeName})}))}):Object(O.jsx)(O.Fragment,{})]})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Asset Price(ETH):"}),Object(O.jsx)("input",{type:"text",placeholder:"",className:"form-control",onChange:function(e){M(e.target.value)},value:String(parseInt(B)/1e18),defaultValue:"",disabled:!0})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Assets(limit : 10))"}),Object(O.jsx)("input",{type:"text",placeholder:"1,2,3,4,5,6.7.8.9.0",className:"form-control",onChange:function(e){V(e.target.value);var t=K.split(",").map((function(e){return console.log("posted asset item ",e),parseInt(e,10)}));H(String(parseInt(B)*t.length/1e18))},value:K})]})}),Object(O.jsx)("div",{children:Object(O.jsx)("label",{className:"w-100 mb-3",children:Object(O.jsxs)("span",{className:"form-label",children:["Estimated Price : ",F," ETH"]})})}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"text-center pb-2",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),s)if(a){var t=K.split(",").map((function(e){return parseInt(e,10)}));if(""===k)alert("Please input escrow name.");else if(t.length>0)if(t.length>10)alert("Maximum assets : 10 on devnet");else{var c,n=!0,o=Object(Bt.a)(t);try{for(o.s();!(c=o.n()).done;){var l=c.value;console.log("assets",l),isNaN(l)&&(n=!1)}}catch(d){o.e(d)}finally{o.f()}if(n)if(isNaN(parseInt(Y)))alert("Please select Asset Type.");else{var i=parseInt(B)*t.length;console.log("original postedAssets",t),console.log("postAssetCostWei",i),console.log("postAssetCostWei",parseInt(B)*t.length/1e18),console.log("escrowAmount",F),console.log("escrowName",k),he(t,k,parseInt(Y),String(i))}else alert("Please input valid assets by comma separated.")}else alert("Please input assets by comma separated.")}else alert("Please connect wallet.");else r()},className:"btn btn-primary w-100",children:"Post Assets"})}),Object(O.jsx)("p",{className:"text-center text-muted",children:X})]})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsx)(hc,{className:"container pt-5 pb-5",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)(xc,{className:"mb-4",children:"List of Funds"}),Object(O.jsxs)("table",{className:"table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)(gc,{scope:"col",children:"ID"}),Object(O.jsx)(gc,{scope:"col",children:"Name"}),Object(O.jsx)(gc,{scope:"col",children:"Date"}),Object(O.jsx)(gc,{scope:"col",children:"QTY"}),Object(O.jsx)(gc,{scope:"col",children:"QTY Redeemed"}),Object(O.jsx)(gc,{scope:"col",children:"QTY Remaining"}),Object(O.jsx)(gc,{scope:"col",children:"Amount"}),Object(O.jsx)(gc,{scope:"col",children:"Redeemed"}),Object(O.jsx)(gc,{scope:"col",children:"Rebate Received"}),Object(O.jsx)(gc,{scope:"col",children:"Remaininng"})]})}),Object(O.jsx)("tbody",{children:l?Object(O.jsx)(O.Fragment,{children:l.filter((function(e){return e.producer==s})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)(uc,{scope:"row",children:e.escrowID}),Object(O.jsx)(uc,{scope:"row",children:e.escrowName}),Object(O.jsx)(uc,{scope:"row",children:new Date(1e3*parseInt(e.createdDate)).toLocaleDateString("en-US")}),Object(O.jsx)(uc,{scope:"row",children:e.quantity}),Object(O.jsx)(uc,{scope:"row",children:e.redeemedQuantity}),Object(O.jsx)(uc,{scope:"row",children:parseInt(e.quantity)-parseInt(e.redeemedQuantity)}),Object(O.jsxs)(uc,{scope:"row",children:[String(parseInt(e.amount)/1e18)," ETH"]}),Object(O.jsxs)(uc,{scope:"row",children:[String(parseInt(e.redeemedAmount)/1e18)," ETH"]}),Object(O.jsxs)(uc,{scope:"row",children:[String(parseInt(e.rebateReceivedAmount)/1e18)," ETH"]}),Object(O.jsxs)(uc,{scope:"row",children:[String(parseInt(e.remainingAmount)/1e18)," ETH"]})]})}))}):Object(O.jsx)(O.Fragment,{})})]})]})})}),t==s?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(Oc,{children:[Object(O.jsx)(xc,{className:"mb-4",children:"Add Asset Type"}),Object(O.jsxs)("form",{action:"",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Asset Type Name:"}),Object(O.jsx)("input",{type:"text",placeholder:"Asset Type",className:"form-control",onChange:function(e){T(e.target.value)},value:S,defaultValue:"Asset Type"})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"w-100 mb-3",children:[Object(O.jsx)("span",{className:"form-label",children:"Asset Price(ETH):"}),Object(O.jsx)("input",{type:"text",placeholder:"",className:"form-control",onChange:function(e){N(e.target.value)},value:y,defaultValue:""})]})}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"text-center pb-2",children:Object(O.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),s)if(a)if(""===S)alert("Please input asset type name.");else if(isNaN(Number(y)))alert("Please input valid price.");else if(0==Number(y))alert("Asset's price can't be zero.");else{console.log("new Asset type: ",S),console.log("new Asset price: ",y);var t=1e18*Number(y);console.log("new Asset type: ",S),console.log("new Asset price: ",y),console.log("new Asset price as Wei: ",t),Oe(S,String(t))}else alert("Please connect wallet.");else r()},className:"btn btn-primary w-100",children:"Add Asset Type"})}),Object(O.jsx)("p",{className:"text-center text-muted",children:X})]})]})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(I,{isOpen:h,onClose:u,txStatus:b})]})}),vc=function(e){var t=e.contractOwnerAddress,c=e.escrowBlockchain,n=e.account,s=e.actionEnabled,a=e.walletconnection,r=e.activeProducerArray,o=e.activeAssetTypesArray,l=e.txStatus,i=e.setTxStatus;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(fc,{contractOwnerAddress:t,escrowBlockchain:c,account:n,actionEnabled:s,walletconnection:a,activeProducerArray:r,activeAssetTypesArray:o,txStatus:l,setTxStatus:i})})};C.a.div(nt||(nt=Object(l.a)(["\n  // height: 1rem;\n  // width: 1rem;\n  border-radius: 1.125rem;\n  background-color: black;\n  color: white;\n"])));C.a.button(st||(st=Object(l.a)(["\n\nheight: 100px;\nwidth: 200px;\nbackground-color: blue;\ncolor: black;\noutline: none;\n  text-decoration: none;\n\nmargin-left: 20px !important;\nbackground-color: transparent;\n\n"])));var yc=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.blockchain})),c=(Object(P.c)((function(e){return e.data})),Object(n.useState)(!0)),s=Object(o.a)(c,2),a=(s[0],s[1],Object(n.useState)(!0)),r=Object(o.a)(a,2),l=r[0],b=(r[1],Object(n.useState)("Your transactions willl appear here...")),x=Object(o.a)(b,2),m=x[0],u=x[1],g=Object(A.a)(),f=(g.activateBrowserWallet,g.account),v=Object(d.a)(),y=v.isOpen,N=(v.onOpen,v.onClose),w=function(e){u(e)},S=function(){e(ot()),T()},T=Object(n.useCallback)((function(){console.log("getData"),e(at())}),[e]);return Object(n.useEffect)((function(){console.log("Just called one time."),e(ot()),T()}),[]),Object(O.jsxs)(j.a,{theme:p,children:[Object(O.jsx)(i.b,{history:dt,children:Object(O.jsx)(i.c,{children:Object(O.jsxs)(h,{children:[Object(O.jsx)(i.a,{path:"/",exact:!0,children:Object(O.jsx)(zt,{escrowBlockchain:t,account:f,actionEnabled:l,walletconnection:S,activeProducerArray:t.activeProducers?t.activeProducers:null,activeProviderArray:t.activeProviders?t.activeProviders:null,activeAssetTypesArray:t.activeAssetTypes?t.activeAssetTypes:null,txStatus:m,setTxStatus:w})}),Object(O.jsx)(i.a,{path:"/provider",exact:!0,children:Object(O.jsx)(nc,{escrowBlockchain:t,account:f,actionEnabled:l,walletconnection:S,activeProducerArray:t.activeProducers?t.activeProducers:null,activeProviderArray:t.activeProviders?t.activeProviders:null,activeAssetTypesArray:t.activeAssetTypes?t.activeAssetTypes:null,txStatus:m,setTxStatus:w})}),Object(O.jsx)(i.a,{path:"/producer",exact:!0,children:Object(O.jsx)(vc,{contractOwnerAddress:t.contractOwnerAddress,escrowBlockchain:t,account:f,actionEnabled:l,walletconnection:S,activeProducerArray:t.activeProducers?t.activeProducers:null,activeAssetTypesArray:t.activeAssetTypes?t.activeAssetTypes:null,txStatus:m,setTxStatus:w})})]})})}),Object(O.jsx)(h,{children:Object(O.jsx)(I,{isOpen:y,onClose:N,txStatus:m})})]})},Nc=c(682);r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(P.a,{store:V,children:Object(O.jsx)(Nc.a,{config:{},children:Object(O.jsx)(yc,{})})})}),document.getElementById("root"))}},[[644,1,2]]]);
//# sourceMappingURL=main.22f3b7d0.chunk.js.map